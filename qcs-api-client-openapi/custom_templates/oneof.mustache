{{#interfaces}}
use crate::models::{{{this}}};
{{/interfaces}}

{{#description}}}
/// {{{ description }}}
{{/description}}
{{^description}}
/// Autogenerated `oneOf` implementation of `{{{name}}}`.
{{/description}}
///
/// # Default impl
///
/// In order to continue implementing [`Default`] on normal schema models, `oneOf` schemas must also implement
/// [`Default`]. In keeping with the upstream templates, this override defaults to the first enum variant:
/// `{{{classname}}}::{{#oneOf}}{{#-first}}{{{this}}}{{/-first}}{{/oneOf}}`.
#[derive(Clone, Debug, PartialEq, Serialize, Deserialize)]
#[serde(untagged, deny_unknown_fields)]
pub enum {{{classname}}} {
{{#composedSchemas}}
{{#oneOf}}
#[serde(rename = "{{{baseType}}}")]
{{#lambda.pascalcase}}{{{baseType}}}{{/lambda.pascalcase}}({{{dataType}}}),
{{/oneOf}}
{{/composedSchemas}}
}

{{#oneOf}}
impl From<{{{this}}}> for {{{classname}}} {
    fn from(variant: {{{this}}}) -> Self {
        Self::{{#lambda.pascalcase}}{{{this}}}{{/lambda.pascalcase}}(variant)
    }
}
{{/oneOf}}

impl Default for {{{classname}}} {
    fn default() -> Self {
        {{#oneOf}}
        {{#-first}}
        Self::{{#lambda.pascalcase}}{{{this}}}{{/lambda.pascalcase}}({{{this}}}::default())
        {{/-first}}
        {{/oneOf}}
    }
}

impl {{{classname}}} {
{{#oneOf}}
    pub fn is_{{#lambda.snakecase}}{{#lambda.camelcase}}{{{this}}}{{/lambda.camelcase}}{{/lambda.snakecase}}(&self) -> bool {
        matches!(self, Self::{{#lambda.pascalcase}}{{{this}}}{{/lambda.pascalcase}}(_))
    }

    pub fn as_{{#lambda.snakecase}}{{#lambda.camelcase}}{{{this}}}{{/lambda.camelcase}}{{/lambda.snakecase}}(&self) -> Option<&{{{this}}}> {
        if let
        Self::{{#lambda.pascalcase}}{{{this}}}{{/lambda.pascalcase}}(inner) =
        self {
            Some(inner)
        } else {
            None
        }
    }

    pub fn into_{{#lambda.snakecase}}{{#lambda.camelcase}}{{{this}}}{{/lambda.camelcase}}{{/lambda.snakecase}}(self) ->
    Result<{{{this}}}, Self> {
        if let
        Self::{{#lambda.pascalcase}}{{{this}}}{{/lambda.pascalcase}}(inner) =
        self {
            Ok(inner)
        } else {
            Err(self)
        }
    }
{{/oneOf}}
}
